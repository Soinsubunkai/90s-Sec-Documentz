/*
 * Winを256倍楽しむ本（レジストリ編）
 * 
 * さてお子様○ンチや離○食に触発されて、win向けに..と思ってしまいました。
 * いや、正直なところただ暇だったのですが....
 *
 */

第１章  ワンランク上をゆく匿名メールの出し方
（女性週刊誌の中吊り広告風）

偽メールのやりかたはいろいろありますが、smptサーバーと直接お話するなぞ、人間のや
ることではありません。せいぜいタイプミスしてrst コマンドのお世話になるのが関の山
です。ここでは普通のメーラーを使ってやりましょう。

まず、余計な署名はつけないように設定します。せっかく偽メールを出しても自分の本名
とメールアドレスを最後にくっつけてはただのアホです。署名の代わりに適当な名前を書
いても相手に「返信」されると戻ってきてしまいます。これは本文では見えなくてもメー
ルヘッダーに記録されているからです。これを変えておかなくてはなりません。メールヘ
ッダはInternetMailならファイル→プロパティ→詳細、Eudra ならBlahBlahBlahボタンで
現れます。

マイクロソフトInternetMailの差出人の設定は、メール→オプションの中です。メールソ
フトにより場所は違いますが簡単に見つかるでしょう。とりあえず名前はPrimeMinistar 
、会社名は「kantei」とします。ついでにメールアドレスもPM_Hashimoto@kantei.go.jp 
とでもしておきましょう。さて、ここで自分宛てにメールしてみましょう。

戻ってきたメールを見ます。どうです。PM_Hashimotoから送られて来たでしょう。さてこ
れで差出人は誤魔化せました。しかしメールヘッダを見られると怪しまれてしまいます。
ヘッダではReceivedに注目します。

Received: は通常いくつかあります。一番上にはあなたが通常使っているメールサーバー
があるはずです。下から送られた順になっています。そこで、どこから送られてきたかを
調べるには通常一番下を見るわけです。（偽メールを送ろうとする人達はここを変える）
では、実際に送られてきたメールヘッダーを見てみましょう。（Received: の最下行)

Received: from kato (tyok***.b***oame.or.jp [20*.2**.23*.8*])
by geocities.com (8.7.5/8.7.3) with SMTP id WAA21510 

せっかく送信者を内閣総理大臣にしても、fromkatoじゃ、あ、あなた、いくらなんでも不
自然ですよね。そこで、こいつを少しいじることにしましょう。さて、ここからが本番で
す。

使う道具     regedit.exe   winipcfg.exe

スタートメニュ→ファイル名を指定して実行→winipcfgを実行します。ウィンドウが開い
たところで、詳細 >> をクリック。その一番上にメールヘッダと同じ文字があるはずです
。（ここではkatoです）

次にregeditを開き、次を覗いてみます。

HIKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\VxD\MSTCP

そこのHOSTNAMEに"kato"という文字があるはずです。こいつを"kantei"に変えちゃいまし
ょう。ついでにDomainというkey の値も"go.jp" にします。これで終了。

さて、レジストリをいじったあとで、メールしてみます。このサーバー[smtp.pophost.co
m]はここの過去ログに出ていたものです。当時はanonymousesmtpだったのですが、残念な
がらもはやanonymouseではなくなってしまいました。kantei.go.jpのあとの括弧の中でし
っかり元が出ていますねぇ。でも、とりあえずkantei.go.jpドメインから送られてきたよ
うな気にはさせてくれます。

Received: from kantei.go.jp (****s08.***.or.jp [20*.**.1**.*0])
by pophost.com (8.8.5) id BAA11476; Tue, ** Jul 199* **:01:1* -0600 (MDT)

今度は発信元をくっつけないサーバーで送ってみましょう。下も実際に送った見本です。
一見kantei.go.jpから発信されたように見えないこともないでしょう。fromの欄が少しあ
っさりしすぎていますが、気にしないことにします。

Received: from kantei.go.jp by m****.i******.or.jp
(8.8.5+2.7Wbeta5/3.6Wbeta4-06/**/9*)id QA***336;
Tue, ** Jul 199* **:53:08 +0900

さて、これでアホを騙す準備はできました。kantei.go.jpをwhitehouse.govなりairforce
.milなり好きに変えて、送信者もPresident でもGeneral でも好きに名乗ってください。
バレても当方は一切関知しません。

それから、発信元を記録しないサーバーはワタシは知りませんので。念のため。

（筆者:注）
これはあくまでもwin 初心者用の「あやしい使い方の紹介」である。したがって多少知識
のある人およびマイクロソフトの社員は読んではいけない。ホスト名はコントロールパネ
ルのネットワークでも変えられるぞ、といったまともな意見もご遠慮願います。あくまで
も「まともでない使い方」に興味を持つ人が対象ですので。「偽メールやるならヘッダを
いじらんかい」という意見も初心者向けじゃないという理由で採用しません。そう、言い
訳です。

と、「薔薇ねた」にも飽きたので書いてみたけど、誰か読むかなぁ。
